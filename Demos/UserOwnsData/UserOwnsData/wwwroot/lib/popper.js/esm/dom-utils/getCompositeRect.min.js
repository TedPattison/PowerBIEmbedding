import getBoundingClientRect from"./getBoundingClientRect.js";import getNodeScroll from"./getNodeScroll.js";import getNodeName from"./getNodeName.js";import{isHTMLElement}from"./instanceOf.js";import getWindowScrollBarX from"./getWindowScrollBarX.js";import getDocumentElement from"./getDocumentElement.js";import isScrollParent from"./isScrollParent.js";export default function getCompositeRect(e,t,o){void 0===o&&(o=!1);var l=getDocumentElement(t),r=getBoundingClientRect(e),i={scrollLeft:0,scrollTop:0},n={x:0,y:0};return o||(("body"!==getNodeName(t)||isScrollParent(l))&&(i=getNodeScroll(t)),isHTMLElement(t)?((n=getBoundingClientRect(t)).x+=t.clientLeft,n.y+=t.clientTop):l&&(n.x=getWindowScrollBarX(l))),{x:r.left+i.scrollLeft-n.x,y:r.top+i.scrollTop-n.y,width:r.width,height:r.height}};